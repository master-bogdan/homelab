# Use upstream SeaweedFS image (or Chainguardâ€™s hardened one if you want)
image:
  tag: "4.02"
  pullPolicy: IfNotPresent

# --- Master servers ---
master:
  enabled: true
  replicas: 1

  persistence:
    enabled: true
    storageClass: standard
    size: 1Gi

# --- Volume servers ---
volume:
  enabled: true
  replicas: 1

  persistence:
    enabled: true
    storageClass: standard
    size: 1Gi

# --- Filer (SeaweedFS metadata + APIs) ---
filer:
  enabled: true
  replicas: 1

  persistence:
    enabled: true
    storageClass: standard
    size: 1Gi

  extraArgs:
    - "-s3"

# --- Separate S3 gateway section (chart-specific) ---
s3:
  enabled: true
  service:
    type: ClusterIP
    port: 8333

  createBuckets:
    - name: personal-website
      anonymousRead: true  # static site bucket
      collections:
        - name: public
    - name: internal-artifacts
      anonymousRead: false

# --- Network Policies ---
networkPolicy:
  enabled: true
  ingress:
    - from:
        - namespaceSelector:
            matchLabels:
              name: networking
      ports:
        - protocol: TCP
          port: 8333

# --- Metrics (optional for observability integration later) ---
metrics:
  enabled: true
